<div class="cart-card" >
  <div class="product-image">
    <img routerLink="/product/{{prop.id}}" src={{prop.pictureUrl}} alt="Anker External Battery">
  </div>
  <div class="card-info">
    <h2 routerLink="/product/{{prop.id}}">{{prop.productName}}</h2>
    <p routerLink="/product/{{prop.id}}" class="description">{{product.description}}</p>
    <p class="brand">by {{product.brandName}} ({{prop.category}})</p>
    <p><strong style="color: green; margin: 0;">In Stock</strong></p>
    <div class="card-actions">
      <label for="qty3">Qty:</label>
      <select (change)="QNTChanged()" class="ms-2 form-select d-inline" style="width: fit-content;" id="qty3"
              [(ngModel)]="prop.quantity">
        @for (number of Quantity(10); track $index) {
          @if(number < product.quantityInStock){
            <option>{{number}}</option>
          }
          @else {
            <option disabled>{{number}}</option>
          }
        }
      </select>

      <i class="a-icon a-icon-text-separator" role="presentation"></i>
      <button (click)="Delete()" class="btn link-danger">Delete</button>
    </div>
  </div>
  <div class="card-price">
    @if(product.discount !=null && product.discount.discountStarted != false){
      <div class="discount-info">
            <span class="discount">
                <span class="discount-percentage">-{{Discount()}}% off</span>
            </span>
        <span class="discount-text">
                <span>Limited Time Deal</span>
            </span>
      </div>
      <span class="current-price">{{ product.discount.priceAfterDiscount.toFixed(2) | currency:'EGP' }}</span>
      <br />
      <span class="old-price">List:{{ product.price.toFixed(2) | currency:'EGP' }}</span>
      <br />
    }
    @else{
      <span class="current-price">{{ prop.price.toFixed(2) | currency:'EGP' }}</span>
    }
  </div>

</div>
